{{!< default}}

{{! The comment above "< default" means - insert everything in this file into
    the {body} of the default.hbs template, which contains our header/footer. }}



<!-- <link rel="stylesheet" href="{{asset "libs/flakes/css/all.css" }}"> -->
<link rel="stylesheet" href="{{asset "libs/font-awesome/css/font-awesome.min.css" }}">
<link rel="stylesheet" href="{{asset "libs/gridforms/gridforms/gridforms.css" }}">

<script src="{{asset "libs/jquery/dist/jquery.min.js" }}"></script>
<script src="{{asset "libs/snapjs/snap.min.js" }}"></script>
<script src="{{asset "libs/responsive-elements/responsive-elements.js" }}"></script>
<script src="{{asset "libs/gridforms/gridforms/gridforms.js" }}"></script>


<script type="text/javascript">jQuery_1 = jQuery;</script>
<script src="{{asset "libs/jquery/dist/jquery.min.js" }}"></script>
<script type="text/javascript">jQuery_2 = $.noConflict(true);</script>
<script type="text/javascript">jQuery = jQuery_1;</script>

<link rel="stylesheet" href="/assets/css/prism.css">
<script src="/assets/js/prism.js"></script>

<link rel="stylesheet" href="{{asset "libs/redactor/redactor/redactor.css" }}" />
<script src="{{asset "libs/redactor/redactor/redactor.min.js" }}"></script>
<link rel="stylesheet" href="{{asset "libs/jquery-ui/themes/ui-lightness/jquery-ui.min.css" }}" />

<script type="text/javascript">jQuery = jQuery_2;</script>
<link rel="stylesheet" href="{{asset "libs/datetimepicker/jquery.datetimepicker.css" }}">
<script src="{{asset "libs/datetimepicker/build/jquery.datetimepicker.full.min.js" }}"></script>
<script type="text/javascript">jQuery = jQuery_1;</script>

<script src="{{asset "libs/jquery-ui/jquery-ui.min.js" }}"></script>

{{> "header"}}


<main id="content" class="content clearfix" role="main">
    {{# if edit }}
        <div style="margin: 5px; border: 2px solid green; padding: 5px;">
            <b>Івент надіслано до ІТ КПІ! Дякуємо!</b><br>
            При необхідності, ви все ще можете відредагувати івент за <a href="{{edit}}">цим посиланням</a>, допоки івент не прийнятий до публікації в дайджесті.
        </div>
    {{/if}}

    {{#if error}}
        <div style="margin: 5px; border: 2px solid red; padding: 5px;">
            Виникло декілька проблем при заповненні форми:
            <ul>
            {{#each error}}
                <li><i>{{key}}</i>: {{error}}</li>
            {{/each}}
            </ul>
        </div>
    {{/if}}
    <div id="articles">
        <form class="grid-form" method="POST">
            <div class="grid-10 gutter-20">
                <div class="span-6">
                    <fieldset>
                        <legend>General</legend>
                        <div data-row-span="1">
                            <div data-field-span="1">
                                <label>Title</label>
                                <input type="text" name="title" value="{{title}}">
                            </div>
                        </div>

                        <div data-row-span="1">
                            <div data-field-span="1">
                                <label>Agenda</label>
                                <textarea rows="15" name="agenda" id="agendaEditor">{{#if agenda }}{{agenda}}{{/if}}</textarea>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <div class="span-4">
                    <fieldset>
                        <legend>Details</legend>
                        <div data-row-span="1">
                            <div data-field-span="1">
                                <label>Place</label>
                                <input type="text" name="place" value="{{place}}">
                            </div>
                        </div>

                        <div data-row-span="3">
                            <div data-field-span="1">
                                <label>Starts at</label>
                                <input type="text" class="datepicker" name="when_start" value="{{# if when_start }}{{ when_start }}{{/if}}">
                            </div>
                            <div data-field-span="1">
                                <label>Ends at</label>
                                <input type="text" class="datepicker" name="when_end" value="{{# if when_end }}{{ when_end }}{{/if}}">
                            </div>
                            <div data-field-span="1">
                                <label>Print time<br />(only date will be printed if not checked)</label>
                                <input type="checkbox" name="include_time" value="true" {{# unless only_date }}checked{{/unless}}>
                            </div>
                        </div>

                        <div data-row-span="1">
                            <div data-field-span="1">
                                <label>Level</label>
                                <select name="level">
                                    <option value="NONE" disabled>- choose one -</option>
                                    <option value="TRAINEE" {{# if is_TRAINEE }}selected{{/if}}>trainee</option>
                                    <option value="JUNIOR" {{# if is_JUNIOR }}selected{{/if}}>junior</option>
                                    <option value="MIDDLE" {{# if is_MIDDLE }}selected{{/if}}>middle</option>
                                    <option value="SENIOR" {{# if is_SENIOR }}selected{{/if}}>senior</option>
                                </select>
                            </div>
                        </div>

                        <div data-row-span="1">
                            <div data-field-span="1">
                                <label>Registration link</label>
                                <input type="text" name="registration_url" value="{{registration_url}}">
                            </div>
                        </div>

                        <div data-row-span="1">
                            <div data-field-span="1">
                                <label>Image URL</label>
                                <input type="text" name="image_url" value="{{image_url}}">
                            </div>
                        </div>

                        <div data-row-span="1">
                            <div data-field-span="1">
                                <label>Submitter e-mail</label>
                                <input type="text" name="submitter_email" value="{{submitter_email}}">
                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>
            <br>
            {{# if edit }}
            <button type="submit" class="big-ok-button" name="submit" value="Edit">Save</button>
            {{ else }}
            <button type="submit" class="big-ok-button" name="submit" value="save_details">Send</button>
            {{/if}}
        </form>

        <script>
        jQuery( document ).ready(function() {
            jQuery_2('.datepicker').datetimepicker({
                format:'Y-m-d H:i'
            });
            jQuery(function()
            {
                jQuery_1('#agendaEditor').redactor({
                    autoresize: false, air: false
                });
                jQuery_1('#socialEditor').redactor({
                    autoresize: false, air: false
                });
            });
        });
        </script>
    </div>

    <div id="sidebar">{{> "sidebar"}}</div>

</main>
